<!DOCTYPE html>
<html>
<head>
    <title>Smart Contact Book</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-4">
    <h2 class="mb-4">ðŸ“’ Smart Contact Book</h2>

    <!-- Search -->
    <form method="GET" action="/" class="d-flex mb-3">
        <input type="text" name="search" value="{{ search }}" placeholder="Search contacts" class="form-control me-2">
        <button type="submit" class="btn btn-primary">Search</button>
        <a href="/" class="btn btn-secondary ms-2">Clear</a>
    </form>

    <!-- Add Contact -->
    <form method="POST" action="/add" class="row g-2 mb-4">
        <div class="col-md-3"><input name="name" placeholder="Name" required class="form-control"></div>
        <div class="col-md-3"><input name="phone" placeholder="Phone" required class="form-control"></div>
        <div class="col-md-3"><input name="email" placeholder="Email" class="form-control"></div>
        <div class="col-md-3"><button type="submit" class="btn btn-success w-100">Add Contact</button></div>
    </form>

    <!-- Contact List -->
    <table class="table table-bordered table-striped">
        <thead class="table-dark">
            <tr><th>Name</th><th>Phone</th><th>Email</th><th>Actions</th></tr>
        </thead>
        <tbody>
            {% for c in contacts %}
            <tr>
                <form method="POST" action="/update/{{ c.id }}">
                    <td><input name="name" value="{{ c.name }}" class="form-control"></td>
                    <td><input name="phone" value="{{ c.phone }}" class="form-control"></td>
                    <td><input name="email" value="{{ c.email }}" class="form-control"></td>
                    <td>
                        <button class="btn btn-primary btn-sm">Update</button>
                        <a href="/delete/{{ c.id }}" class="btn btn-danger btn-sm">Delete</a>
                    </td>
                </form>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <a href="/export" class="btn btn-warning">Export CSV</a>
</body>
</html>
